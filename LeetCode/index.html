<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="日拱一卒，功不唐捐"><title> | Marcovaldo</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Marcovaldo</h1><a id="logo" href="/.">Marcovaldo</a><p class="description"></p></div><div id="nav-menu"><a href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/LeetCode/" class="current"><i class="fa fa-list"> LeetCode</i></a><a href="/Booklist/"><i class="fa fa-book"> Booklist</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"></h1><div class="post-content"><p>这个地方主要记载我刷LeetCode时的疑惑和解法，方便自己的总结整理，也希望能给广大网友带来帮助。</p>
<h2 id="3-Longest-Substring-Without-Repeating-Characters"><a href="#3-Longest-Substring-Without-Repeating-Characters" class="headerlink" title="3. Longest Substring Without Repeating Characters"></a>3. Longest Substring Without Repeating Characters</h2><p>Given a string, find the length of the longest substring without repeating characters.</p>
<p><strong>Examples:</strong><br>Given “abcabcbb”, the answer is “abc”, which the length is 3.<br>Given “bbbbb”, the answer is “b”, with the length of 1.<br>Given “pwwkew”, the answer is “wke”, with the length of 3. Note that the answer must be a substring, “pwke” is a subsequence and not a substring.</p>
<p>这道题有点儿像小米面试中的『摘要算法』那道题，也是用两个指针在字符串上去滑动。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        res, n = <span class="number">0</span>, len(s)</div><div class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> n == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span></div><div class="line">        index1, index2 = <span class="number">0</span>, <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> index1 &lt; n <span class="keyword">and</span> index2 &lt; n:</div><div class="line">            <span class="keyword">if</span> s[index2] <span class="keyword">not</span> <span class="keyword">in</span> s[index1:index2]:</div><div class="line">                index2 += <span class="number">1</span></div><div class="line">                res = index2-index1 <span class="keyword">if</span> index2-index1&gt;res <span class="keyword">else</span> res</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                index1 = s[index1:index2].index(s[index2]) + index1 + <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> res</div></pre></td></tr></table></figure></p>
<h2 id="5-Longest-Palindromic-Substring"><a href="#5-Longest-Palindromic-Substring" class="headerlink" title="5. Longest Palindromic Substring"></a>5. Longest Palindromic Substring</h2><p>Given a string <strong>s</strong>, find the longest palindromic substring in <strong>s</strong>. You may assume that the maximum length of <strong>s</strong> is 1000.</p>
<p><strong>Example1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: &quot;babad&quot;</div><div class="line">Output: &quot;bab&quot;</div><div class="line">Note: &quot;aba&quot; is also a valid answer.</div></pre></td></tr></table></figure></p>
<p><strong>Example2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Input: &quot;cbbd&quot;</div><div class="line">Output: &quot;bb&quot;</div></pre></td></tr></table></figure></p>
<p>定义一个指针i从字符串头部滑到尾部，然后在每一个位置寻找以i为中心的最大回文子串，然后不断更新暂存器中的最大回文子串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: str</div><div class="line">        """</div><div class="line">        size = len(s)</div><div class="line">        <span class="keyword">if</span> len(size) == <span class="number">1</span>:</div><div class="line">        	<span class="keyword">return</span> s</div><div class="line">        <span class="keyword">elif</span> len(size) == <span class="number">2</span>:</div><div class="line">        	<span class="keyword">if</span> s[<span class="number">0</span>] == s[<span class="number">1</span>]:</div><div class="line">        		<span class="keyword">return</span> s</div><div class="line">        	<span class="keyword">else</span>:</div><div class="line">        		<span class="keyword">return</span> s[<span class="number">0</span>]</div><div class="line">        maxp, res, i = <span class="number">1</span>, s[<span class="number">0</span>], <span class="number">0</span></div><div class="line">        <span class="keyword">while</span> i &lt; size:</div><div class="line">        	j = i + <span class="number">1</span></div><div class="line">        	<span class="keyword">while</span> j &lt; size:</div><div class="line">        		<span class="keyword">if</span> s[i] == s[j]:</div><div class="line">        			j += <span class="number">1</span></div><div class="line">        		<span class="keyword">else</span>:</div><div class="line">        			<span class="keyword">break</span></div><div class="line">        	k = <span class="number">0</span></div><div class="line">        	<span class="keyword">while</span> i-k<span class="number">-1</span>&gt;=<span class="number">0</span> <span class="keyword">and</span> j+k&lt;size:</div><div class="line">        		<span class="keyword">if</span> s[i-k<span class="number">-1</span>] != s[j+k]:</div><div class="line">        			<span class="keyword">break</span></div><div class="line">        		k += <span class="number">1</span></div><div class="line">        	<span class="keyword">if</span> j-i+k*<span class="number">2</span> &gt; maxp:</div><div class="line">        		maxp = j-i+k*<span class="number">2</span></div><div class="line">        		res = s[i-k<span class="number">-1</span>:j+k]</div><div class="line">        	<span class="keyword">if</span> j+k == size<span class="number">-1</span>:</div><div class="line">        		<span class="keyword">break</span></div><div class="line">        	i = j</div><div class="line">        <span class="keyword">return</span> res</div></pre></td></tr></table></figure>
<h2 id="8-String-to-Integer-atoi"><a href="#8-String-to-Integer-atoi" class="headerlink" title="8. String to Integer(atoi)"></a>8. String to Integer(atoi)</h2><p>把空格去掉，然后正负号只能出现在首位</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myAtoi</span><span class="params">(self, str)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type str: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        str = str.strip()</div><div class="line">        <span class="keyword">if</span> len(str) == <span class="number">0</span>:</div><div class="line">        	<span class="keyword">return</span> <span class="number">0</span></div><div class="line">        tmp, res, i, n =  <span class="string">'0'</span>, <span class="number">0</span> , <span class="number">0</span>, len(str)</div><div class="line">        <span class="keyword">if</span> str[<span class="number">0</span>] <span class="keyword">in</span> <span class="string">'+-'</span>:</div><div class="line">        	tmp = str[<span class="number">0</span>]</div><div class="line">        MAX_INT = <span class="number">2147483647</span></div><div class="line">        INT_MIN = <span class="number">-2147483648</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(i, n):</div><div class="line">        	<span class="keyword">if</span> str[i].isdigit():</div><div class="line">        		tmp += str[i]</div><div class="line">        	<span class="keyword">else</span>:</div><div class="line">        		<span class="keyword">break</span></div><div class="line">        <span class="keyword">if</span> len(tmp) &gt; <span class="number">1</span>:</div><div class="line">        	res = int(tmp)</div><div class="line">        <span class="keyword">if</span> res &gt; MAX_INT:</div><div class="line">        	<span class="keyword">return</span> MAX_INT</div><div class="line">        <span class="keyword">elif</span> res &lt; INT_MIN:</div><div class="line">        	<span class="keyword">return</span> INT_MIN</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">        	<span class="keyword">return</span> res</div></pre></td></tr></table></figure>
<h2 id="11-Container-With-Most-Water"><a href="#11-Container-With-Most-Water" class="headerlink" title="11. Container With Most Water"></a>11. Container With Most Water</h2><p>Given n non-negative integers a1, a2, …, an, where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water.</p>
<p>Note: You may not slant the container and n is at least 2.</p>
<p>这道题是说让从n条线里边选两条与x轴构成一个容器，要使容器的容积最大。首先我们要知道容器容积的计算公式应该是两条线中短的那条乘上两条线的距离。直接两层for循环就可以求出来，但是肯定超时了。我们可以从list的两端出发，先选择最左边和最右边一条，然后不断更新两条边中短的一条，直至两条边相遇，此时就得到的最大的容积。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxArea</span><span class="params">(self, height)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type height: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n = len(height)</div><div class="line">        <span class="keyword">if</span> n &lt;= <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> min(height)</div><div class="line">        res = min(height[<span class="number">0</span>], height[<span class="number">-1</span>]) * (n<span class="number">-1</span>)</div><div class="line">        low, high = <span class="number">0</span>, n<span class="number">-1</span></div><div class="line">        <span class="keyword">while</span> low &lt; high:</div><div class="line">            res = max(res, min(height[low], height[high])*(high-low))</div><div class="line">            <span class="keyword">if</span> height[low] &gt; height[high]:</div><div class="line">                high -= <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                low += <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> res</div></pre></td></tr></table></figure>
<h2 id="16-3Sum-Cloest"><a href="#16-3Sum-Cloest" class="headerlink" title="16. 3Sum Cloest"></a>16. 3Sum Cloest</h2><p>Given an array S of n integers, find three integers in S such that the sum is closest to a given number, target. Return the sum of the three integers. You may assume that each input would have exactly one solution.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">For example, given array S = &#123;-1 2 1 -4&#125;, and target = 1.</div><div class="line">The sum that is closest to the target is 2. (-1 + 2 + 1 = 2).</div></pre></td></tr></table></figure>
<p>最直接的做法就是三层for循环，肯定是超时的。想到《剑指offer》中第41题『和为s的两个整数VS和为s的连续正数序列』，我觉得可能需要先对数组进行排序，然后再用移动指针的方法找到答案。后来得到证明，这种方法的确是可行的：首先对数组进行排序，然后在数组中找到不小于target//3的第一个数字所在的位置i。固定i，定义两个指针分别指向数组的头部和尾部，然后逐步向i移动两个指针，得到一个局部最优解。通过移动两个指针求局部最优解的方法见下面的unit函数。考虑到i的位置不是特别准确，因此在i-1、i、i+1三个位置分别执行一个unit函数，求三者的最优解。特殊情况，当i指向数组头部和尾部时，两个滑动指针都位于i的同一侧，因此while循环的条件是index1&lt;index2，我把这种特殊情况写成了unit2函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">threeSumClosest</span><span class="params">(self, nums, target)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :type target: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="comment"># 先排序，然后定位到target//3附近位置，然后再找</span></div><div class="line">        nums.sort()</div><div class="line">        tmp, n, i = target//<span class="number">3</span>, len(nums), <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):         </div><div class="line">            <span class="keyword">if</span> nums[i] &gt;= tmp:</div><div class="line">                <span class="keyword">break</span></div><div class="line">            <span class="keyword">elif</span> nums[i] &lt; tmp:</div><div class="line">                <span class="keyword">continue</span></div><div class="line">        </div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">unit</span><span class="params">(nums, target, i)</span>:</span></div><div class="line">            n = len(nums)</div><div class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</div><div class="line">                <span class="comment"># return sum(nums[:3])</span></div><div class="line">                index1, index2 = <span class="number">1</span>, n<span class="number">-1</span></div><div class="line">            <span class="keyword">elif</span> i &gt;= n<span class="number">-1</span>:</div><div class="line">                <span class="comment"># return sum(nums[-3:])</span></div><div class="line">                index1, index2 = <span class="number">0</span>, n<span class="number">-2</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                index1, index2 = <span class="number">0</span>, n<span class="number">-1</span></div><div class="line">            res = sum([nums[index1], nums[index2], nums[i]])</div><div class="line">            <span class="keyword">while</span> index1 &lt; i <span class="keyword">and</span> index2 &gt; i:</div><div class="line">                tmp = sum([nums[index1], nums[index2], nums[i]])</div><div class="line">                <span class="keyword">if</span> tmp == target:</div><div class="line">                    <span class="keyword">return</span> tmp</div><div class="line">                <span class="keyword">elif</span> tmp &gt; target:</div><div class="line">                    <span class="keyword">if</span> res &gt; target:</div><div class="line">                        res = tmp <span class="keyword">if</span> res &gt; tmp <span class="keyword">else</span> res</div><div class="line">                    <span class="keyword">else</span>:</div><div class="line">                        res = tmp <span class="keyword">if</span> abs(tmp - target) &lt; abs(target-res) <span class="keyword">else</span> res</div><div class="line">                    index2 -= <span class="number">1</span></div><div class="line">                <span class="keyword">elif</span> tmp &lt; target:</div><div class="line">                    <span class="keyword">if</span> res &lt; target:</div><div class="line">                        res = tmp <span class="keyword">if</span> res &lt; tmp <span class="keyword">else</span> res</div><div class="line">                    <span class="keyword">else</span>:</div><div class="line">                        res = tmp <span class="keyword">if</span> abs(target-tmp) &lt; abs(res-target) <span class="keyword">else</span> res</div><div class="line">                    index1 += <span class="number">1</span></div><div class="line">            <span class="keyword">return</span> res</div><div class="line">        </div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">unit2</span><span class="params">(nums, target, i)</span>:</span></div><div class="line">            n = len(nums)</div><div class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</div><div class="line">                <span class="comment"># return sum(nums[:3])</span></div><div class="line">                index1, index2 = <span class="number">1</span>, n<span class="number">-1</span></div><div class="line">            <span class="keyword">elif</span> i == n<span class="number">-1</span>:</div><div class="line">                <span class="comment"># return sum(nums[-3:])</span></div><div class="line">                index1, index2 = <span class="number">0</span>, n<span class="number">-2</span></div><div class="line">            res = sum([nums[index1], nums[index2], nums[i]])</div><div class="line">            <span class="keyword">while</span> index1 &lt; index2:</div><div class="line">                tmp = sum([nums[index1], nums[index2], nums[i]])</div><div class="line">                <span class="keyword">if</span> tmp == target:</div><div class="line">                    <span class="keyword">return</span> tmp</div><div class="line">                <span class="keyword">elif</span> tmp &gt; target:</div><div class="line">                    <span class="keyword">if</span> res &gt; target:</div><div class="line">                        res = tmp <span class="keyword">if</span> res &gt; tmp <span class="keyword">else</span> res</div><div class="line">                    <span class="keyword">else</span>:</div><div class="line">                        res = tmp <span class="keyword">if</span> abs(tmp - target) &lt; abs(target-res) <span class="keyword">else</span> res</div><div class="line">                    index2 -= <span class="number">1</span></div><div class="line">                <span class="keyword">elif</span> tmp &lt; target:</div><div class="line">                    <span class="keyword">if</span> res &lt; target:</div><div class="line">                        res = tmp <span class="keyword">if</span> res &lt; tmp <span class="keyword">else</span> res</div><div class="line">                    <span class="keyword">else</span>:</div><div class="line">                        res = tmp <span class="keyword">if</span> abs(target-tmp) &lt; abs(res-target) <span class="keyword">else</span> res</div><div class="line">                    index1 += <span class="number">1</span></div><div class="line">            <span class="keyword">return</span> res</div><div class="line">            </div><div class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</div><div class="line">            tmp1, tmp2, tmp3 = unit2(nums, target, i), unit(nums, target, i+<span class="number">1</span>), unit(nums, target, i+<span class="number">2</span>)</div><div class="line">        <span class="keyword">elif</span> i &gt;= n<span class="number">-1</span>:</div><div class="line">            tmp1, tmp2, tmp3 = unit(nums, target, n<span class="number">-3</span>), unit(nums, target, n<span class="number">-2</span>), unit2(nums, target, n<span class="number">-1</span>)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            tmp1, tmp2, tmp3 = unit(nums, target, i<span class="number">-1</span>), unit(nums, target, i), unit(nums, target, i+<span class="number">1</span>)</div><div class="line">        res = tmp1 <span class="keyword">if</span> abs(tmp1-target) &lt; abs(tmp2-target) <span class="keyword">else</span> tmp2</div><div class="line">        res = res <span class="keyword">if</span> abs(res-target) &lt; abs(tmp3-target) <span class="keyword">else</span> tmp3</div><div class="line">        <span class="keyword">return</span> res</div><div class="line">        </div><div class="line"></div><div class="line">        <span class="comment"># 最笨的方法，超时</span></div><div class="line">        <span class="comment"># n = len(nums)</span></div><div class="line">        <span class="comment"># res = sum(nums[0:3])</span></div><div class="line">        <span class="comment"># flag = abs(target - res)</span></div><div class="line">        <span class="comment"># for i in range(0, n-2):</span></div><div class="line">        <span class="comment">#     for j in range(i+1, n-1):</span></div><div class="line">        <span class="comment">#         for k in range(j+1, n):</span></div><div class="line">        <span class="comment">#             tmp = sum([nums[i], nums[j], nums[k]])</span></div><div class="line">        <span class="comment">#             if abs(target - tmp) &lt; flag:</span></div><div class="line">        <span class="comment">#                 res, flag = tmp, abs(target-tmp)</span></div><div class="line">        <span class="comment"># return res</span></div></pre></td></tr></table></figure>
<p>这道题debug了两个多小时，阿衰。</p>
<h2 id="64-Minimum-Path-Sum"><a href="#64-Minimum-Path-Sum" class="headerlink" title="64. Minimum Path Sum"></a>64. Minimum Path Sum</h2><p>Given a m x n grid filled with non-negative numbers, find a path from top left to bottom right which minimizes the sum of all numbers along its path.</p>
<p><strong>Note:</strong> You can only move either down or right at any point in time.</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[[1,3,1],</div><div class="line"> [1,5,1],</div><div class="line"> [4,2,1]]</div></pre></td></tr></table></figure></p>
<p>Given the above grid map, return 7. Because the path 1→3→1→1→1 minimizes the sum.</p>
<p>DP问题。给定矩阵grid，要求出从左上角到右下角的最小代价，其实只需要计算出从左上角到grid[i][j]的最小代价，然后一直DP到右下角即可。我们要先计算最左侧一列位置和最上面一行位置的代价：对于最左侧一列，只需要把在它上面的数字都加过来就得到了到当前点的最小代价；对于最上面一行，只需要把左侧的代价值都加过来就得到了到当前点的最小代价。然后再求到其它点的最小代价，要到达grid[i][j]，要么是从grid[i-1][j]过来，要么是从grid[i][j-1]过来，而到达这两点的最小代价都已经求出来了，因此到达grid[i][j]的最小代价为grid[i][j]+min(grid[i-1][j], grid[i][j-1])。下面是python实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minPathSum</span><span class="params">(self, grid)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type grid: List[List[int]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        m, n = len(grid), len(grid[<span class="number">0</span>])</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, m):</div><div class="line">            grid[i][<span class="number">0</span>] += grid[i<span class="number">-1</span>][<span class="number">0</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</div><div class="line">            grid[<span class="number">0</span>][i] += grid[<span class="number">0</span>][i<span class="number">-1</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, m):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n):</div><div class="line">                grid[i][j] += min(grid[i<span class="number">-1</span>][j], grid[i][j<span class="number">-1</span>])</div><div class="line">        <span class="keyword">return</span> grid[<span class="number">-1</span>][<span class="number">-1</span>]</div></pre></td></tr></table></figure>
<h2 id="121-Best-Time-to-Buy-and-Sell-Stock"><a href="#121-Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="121. Best Time to Buy and Sell Stock"></a>121. Best Time to Buy and Sell Stock</h2><p>Say you have an array for which the ith element is the price of a given stock on day i.</p>
<p>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: [7, 1, 5, 3, 6, 4]</div><div class="line">Output: 5</div><div class="line"></div><div class="line">max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: [7, 6, 4, 3, 1]</div><div class="line">Output: 0</div><div class="line"></div><div class="line">In this case, no transaction is done, i.e. max profit = 0.</div></pre></td></tr></table></figure></p>
<p>DP问题。要求出最大收益的话，我们需要暂存一个到目前为止的最低价minprice和收益res，每过一天就更新一次minprice=min(minprice, prices[i])，然后去求这一天卖出的话收益会不会超过之前的最大收益，超过的话更新res。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type prices: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n = len(prices)</div><div class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        res = <span class="number">0</span></div><div class="line">        minprice = prices[<span class="number">0</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</div><div class="line">            minprice = min(minprice, prices[i])</div><div class="line">            <span class="keyword">if</span> prices[i] - minprice &gt; res:</div><div class="line">                res = prices[i] - minprice</div><div class="line">        <span class="keyword">return</span> res</div></pre></td></tr></table></figure>
<h2 id="198-House-Robber"><a href="#198-House-Robber" class="headerlink" title="198. House Robber"></a>198. House Robber</h2><p>You are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed, the only constraint stopping you from robbing each of them is that adjacent houses have security system connected and <strong>it will automatically contact the police if two adjacent houses were broken into on the same night.</strong></p>
<p>Given a list of non-negative integers representing the amount of money of each house, determine the maximum amount of money you can rob tonight <strong>without alerting the police.</strong></p>
<p>这道题应该是用动态规划。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n = len(nums)</div><div class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> n == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>]</div><div class="line">        <span class="keyword">elif</span> n == <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> max(nums)</div><div class="line">        prev, curr = nums[<span class="number">0</span>], max(nums[<span class="number">0</span>:<span class="number">2</span>])</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n):</div><div class="line">            res = max(prev+nums[i], curr)</div><div class="line">            prev, curr = curr, res</div><div class="line">        <span class="keyword">return</span> res</div></pre></td></tr></table></figure>
<h2 id="300-Longest-Increasing-Subsequence"><a href="#300-Longest-Increasing-Subsequence" class="headerlink" title="300. Longest Increasing Subsequence"></a>300. Longest Increasing Subsequence</h2><p>Given an unsorted array of integers, find the length of longest increasing subsequence.</p>
<p>For example,<br>Given [10, 9, 2, 5, 3, 7, 101, 18],<br>The longest increasing subsequence is [2, 3, 7, 101], therefore the length is 4. Note that there may be more than one LIS combination, it is only necessary for you to return the length.</p>
<p>Your algorithm should run in O(n^2) complexity.</p>
<p>Follow up: Could you improve it to O(n log n) time complexity?</p>
<p><strong>解题思路：</strong> tails is an array storing the smallest tail of all increasing subsequences with length i+1 in tails[i]. For example, say we have nums=[4, 5, 6, 3], then all the available increasing subsequences are:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">len = 1: [4], [5], [6], [3] =&gt; tails[0] = 3</div><div class="line">len = 2: [4, 5], [5, 6] =&gt; tails[1] = 5</div><div class="line">len = 3: [4, 5, 6] =&gt; tails[2] = 6</div></pre></td></tr></table></figure></p>
<p>We can easily prove that tails is an increeasing array. Therefore it is possible to do a binary search in tails array to find the one needs update.<br>Each time we only do one of the two:<br>1) if x is larger than all tails, append it, increase the size by 1<br>2) if tails[i-1] &lt; x &lt;= tails[i], update tails[i]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n = len(nums)</div><div class="line">        tails = [<span class="number">0</span>] * n</div><div class="line">        size = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> nums:</div><div class="line">            i, j = <span class="number">0</span>, size</div><div class="line">            <span class="keyword">while</span> i != j:</div><div class="line">                m = (i+j)/<span class="number">2</span></div><div class="line">                <span class="keyword">if</span> tails[m] &lt; x:</div><div class="line">                    i = m+<span class="number">1</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    j = m</div><div class="line">            tails[i] = x</div><div class="line">            size = max(i+<span class="number">1</span>, size)</div><div class="line">        <span class="keyword">return</span> size</div></pre></td></tr></table></figure>
<h2 id="303-Range-Sum-Query-Immutable"><a href="#303-Range-Sum-Query-Immutable" class="headerlink" title="303. Range Sum Query - Immutable"></a>303. Range Sum Query - Immutable</h2><p>Given an integer array nums, find the sum of the elements between indices i and j (i ≤ j), inclusive.</p>
<p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Given nums = [-2, 0, 3, -5, 2, -1]</div><div class="line"></div><div class="line">sumRange(0, 2) -&gt; 1</div><div class="line">sumRange(2, 5) -&gt; -1</div><div class="line">sumRange(0, 5) -&gt; -3</div></pre></td></tr></table></figure></p>
<p><strong>Note:</strong></p>
<ul>
<li>You may assume that the array does not change.</li>
<li>There are many calls to sumRange function.</li>
</ul>
<p>DP问题，我们可以用一个数组来存储前k个元素的和。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        """</div><div class="line">        self.dp, n = nums, len(nums)</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</div><div class="line">            self.dp[i] += self.dp[i<span class="number">-1</span>]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumRange</span><span class="params">(self, i, j)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type i: int</div><div class="line">        :type j: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">return</span> self.dp[j] - (self.dp[i<span class="number">-1</span>] <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Your NumArray object will be instantiated and called as such:</span></div><div class="line"><span class="comment"># obj = NumArray(nums)</span></div><div class="line"><span class="comment"># param_1 = obj.sumRange(i,j)</span></div></pre></td></tr></table></figure>
<h2 id="392-Is-Subsequence"><a href="#392-Is-Subsequence" class="headerlink" title="392. Is Subsequence"></a>392. Is Subsequence</h2><p>Given a string s and a string t, check if s is subsequence of t.</p>
<p>You may assume that there is only lower case English letters in both s and t. t is potentially a very long (length ~= 500,000) string, and s is a short string (&lt;=100).</p>
<p>A subsequence of a string is a new string which is formed from the original string by deleting some (can be none) of the characters without disturbing the relative positions of the remaining characters. (ie, “ace” is a subsequence of “abcde” while “aec” is not).</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s = &quot;abc&quot;, t = &quot;ahbgdc&quot;</div><div class="line"></div><div class="line">Return true.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s = &quot;axc&quot;, t = &quot;ahbgdc&quot;</div><div class="line"></div><div class="line">Return false.</div></pre></td></tr></table></figure></p>
<p><strong>Follow up:</strong><br>If there are lots of incoming S, say S1, S2, … , Sk where k &gt;= 1B, and you want to check one by one to see if T has its subsequence. In this scenario, how would you change your code?</p>
<p>直接用两个指针分别去遍历两个字符串即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSubsequence</span><span class="params">(self, s, t)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type t: str</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        lens, lent = len(s), len(t)</div><div class="line">        index1, index2 = <span class="number">0</span>, <span class="number">0</span></div><div class="line">        <span class="keyword">while</span> index1 &lt; lens <span class="keyword">and</span> index2 &lt; lent:</div><div class="line">            <span class="keyword">if</span> s[index1] == t[index2]:</div><div class="line">                index1 += <span class="number">1</span></div><div class="line">                index2 += <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                index2 += <span class="number">1</span></div><div class="line">        <span class="keyword">if</span> index1 == lens:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">False</span></div></pre></td></tr></table></figure>
<h2 id="416-Partition-Equal-Subset-Sum"><a href="#416-Partition-Equal-Subset-Sum" class="headerlink" title="416. Partition Equal Subset Sum"></a>416. Partition Equal Subset Sum</h2><p>Given a <strong>non-empty</strong> array containing <strong>only positive integers</strong>, find if the array can be partitioned into two subsets such that the sum of elements in both subsets is equal.</p>
<p><strong>Note: </strong></p>
<ul>
<li>Each of the array element will not exceed 100.</li>
<li>The array size will not exceed 200.</li>
</ul>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Input: [1, 5, 11, 5]</div><div class="line"></div><div class="line">Output: true</div><div class="line"></div><div class="line">Explanation: The array can be partitioned as [1, 5, 5] and [11].</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Input: [1, 2, 3, 5]</div><div class="line"></div><div class="line">Output: false</div><div class="line"></div><div class="line">Explanation: The array cannot be partitioned into equal sum subsets.</div></pre></td></tr></table></figure></p>
<p>题设要求将数组分成两半，然后判断两个子数组的和是否相等。由于数组中数字全是正的，因此数组长度必定为偶数。我们可以将这个问题转换成一个背包问题，即从数组中拿出一半的元素，其和能不能是整个数组的和的一半。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canPartition</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        half_sum, n = sum(nums), len(nums)</div><div class="line">        <span class="keyword">if</span> half_sum % <span class="number">2</span> == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">        half_sum /= <span class="number">2</span></div><div class="line">        d = [[<span class="keyword">False</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(half_sum+<span class="number">1</span>)] <span class="keyword">for</span> y <span class="keyword">in</span> range(n+<span class="number">1</span>)]</div><div class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(n+<span class="number">1</span>):</div><div class="line">            d[k][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, half_sum+<span class="number">1</span>):</div><div class="line">                d[i][j] = d[i<span class="number">-1</span>][j]</div><div class="line">                <span class="keyword">if</span> j &gt;= nums[i<span class="number">-1</span>]:</div><div class="line">                    d[i][j] = d[i][j] | d[i<span class="number">-1</span>][j-nums[i<span class="number">-1</span>]]</div><div class="line">        print(d)</div><div class="line">        <span class="keyword">return</span> d[len(nums)][half_sum]</div></pre></td></tr></table></figure>
<h2 id="646-Maximum-Length-of-Pair-Chain"><a href="#646-Maximum-Length-of-Pair-Chain" class="headerlink" title="646. Maximum Length of Pair Chain"></a>646. Maximum Length of Pair Chain</h2><p>You are given <strong>n</strong> pairs of numbers. In every pair, the first number is always smaller than the second number.</p>
<p>Now, we define a pair (c, d) can follow another pair (a, b) if and only if b &lt; c. Chain of pairs can be formed in this fashion.</p>
<p>Given a set of pairs, find the length longest chain which can be formed. You needn’t use up all the given pairs. You can select pairs in any order.</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [[1,2], [2,3], [3,4]]</div><div class="line">Output: 2</div><div class="line">Explanation: The longest chain is [1,2] -&gt; [3,4]</div></pre></td></tr></table></figure></p>
<p><strong>Note:</strong></p>
<ul>
<li>The number of given pairs will be in the range [1, 1000].</li>
</ul>
<p>DP问题，下面是三种解法，后两种是一样的，只用一层for循环；第一种用了两层for循环，结果超时。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLongestChain</span><span class="params">(self, pairs)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type pairs: List[List[int]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="comment"># 两层for循环的DP操作超时</span></div><div class="line">        n = len(pairs)</div><div class="line">        pairs = sorted(pairs, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</div><div class="line">        res = [<span class="number">1</span>] * n</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, n):</div><div class="line">                <span class="keyword">if</span> pairs[i][<span class="number">1</span>] &lt; pairs[j][<span class="number">0</span>]:</div><div class="line">                    res[i] = max(res[i], res[j] + <span class="number">1</span>)</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    res[i] = max(res[i], res[j])</div><div class="line">        <span class="keyword">return</span> max(res)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLongestChain2</span><span class="params">(self, pairs)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type pairs: List[List[int]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">    	cur, res, n= float(<span class="string">'inf'</span>), <span class="number">0</span>, len(pairs)</div><div class="line">        pairs = sorted(pairs, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</div><div class="line">            <span class="keyword">if</span> cur &gt; pairs[i][<span class="number">1</span>]:</div><div class="line">                cur, res = pairs[i][<span class="number">0</span>], res + <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> res</div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLongestChain3</span><span class="params">(self, pairs)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type pairs: List[List[int]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        cur, res = float(<span class="string">'-inf'</span>), <span class="number">0</span></div><div class="line">        pairs = sorted(pairs, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</div><div class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> pairs:</div><div class="line">            <span class="keyword">if</span> cur &lt; p[<span class="number">0</span>]:</div><div class="line">                cur, res = p[<span class="number">1</span>], res + <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> res</div></pre></td></tr></table></figure>
<h2 id="740-Delete-and-Earn"><a href="#740-Delete-and-Earn" class="headerlink" title="740. Delete and Earn"></a>740. Delete and Earn</h2><p>Given an array nums of integers, you can perform operations on the array.</p>
<p>In each operation, you pick any nums[i] and delete it to earn nums[i] points. After, you must delete every element equal to nums[i] - 1 or nums[i] + 1.</p>
<p>You start with 0 points. Return the maximum number of points you can earn by applying such operations.</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Input: nums = [3, 4, 2]</div><div class="line">Output: 6</div><div class="line">Explanation: </div><div class="line">Delete 4 to earn 4 points, consequently 3 is also deleted.</div><div class="line">Then, delete 2 to earn 2 points. 6 total points are earned.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Input: nums = [2, 2, 3, 3, 3, 4]</div><div class="line">Output: 9</div><div class="line">Explanation: </div><div class="line">Delete 3 to earn 3 points, deleting both 2&apos;s and the 4.</div><div class="line">Then, delete 3 again to earn 3 points, and 3 again to earn 3 points.</div><div class="line">9 total points are earned.</div></pre></td></tr></table></figure></p>
<p>Note: </p>
<ul>
<li>The length of nums is at most 20000.</li>
<li>Each element nums[i] is an integer in the range [1, 10000].</li>
</ul>
<p>这道题是198题House Robber问题的升级版：我们可以定义一个长度为10001的数组values（因为限制了nums中的数字在[1, 10000]之间），数字num在nums中出现k次，则执行k次values[num] += num。因为题设中说取了num，就不能取num-1和num+1，现在就转化成了取了values[num]就不能取values[num-1]和values[num+1]，此时已经完全转换成198题了，使用DP就可以解决了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteAndEarn</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        values = [<span class="number">0</span>] * <span class="number">10001</span></div><div class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</div><div class="line">            values[num] += num</div><div class="line">        </div><div class="line">        prev, curr = <span class="number">0</span>, <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> value <span class="keyword">in</span> values:</div><div class="line">            prev, curr = curr, max(prev+value, curr)</div><div class="line">        <span class="keyword">return</span> curr</div></pre></td></tr></table></figure>
<h2 id="746-Min-Cost-Climbing-Stairs"><a href="#746-Min-Cost-Climbing-Stairs" class="headerlink" title="746. Min Cost Climbing Stairs"></a>746. Min Cost Climbing Stairs</h2><p>On a staircase, the i-th step has some non-negative cost cost[i] assigned (0 indexed).</p>
<p>Once you pay the cost, you can either climb one or two steps. You need to find minimum cost to reach the top of the floor, and you can either start from the step with index 0, or the step with index 1.</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">**Input:** cost = [10, 15, 20]</div><div class="line">**Output:** 15</div><div class="line">**Explanation:** Cheapest is start on cost[1], pay that cost and go to the top.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">**Input**: cost = [1, 100, 1, 1, 1, 100, 1, 1, 100, 1]</div><div class="line">**Output**: 6</div><div class="line">**Explanation**: Cheapest is start on cost[0], and only step on 1s, skipping cost[3].</div></pre></td></tr></table></figure></p>
<p><strong>Note:</strong></p>
<ul>
<li>cost will have a length in the range [2, 1000].</li>
<li>Every cost[i] will be an integer in the range [0, 999].</li>
</ul>
<p>DP问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCostClimbingStairs</span><span class="params">(self, cost)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type cost: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n = len(cost)</div><div class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> cost[<span class="number">0</span>]</div><div class="line">        <span class="keyword">elif</span> n == <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> min(cost)</div><div class="line">        tmp1, tmp2 = cost[<span class="number">0</span>], cost[<span class="number">1</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n):</div><div class="line">            tmp1, tmp2 = tmp2, min(tmp1+cost[i], tmp2+cost[i])</div><div class="line">        <span class="keyword">return</span> min(tmp1, tmp2)</div></pre></td></tr></table></figure>
</div></div><div id="container"></div><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  owner: 'marcovaldong',
  repo: 'marcovaldong.github.io',
  oauth: {
    client_id: '3f1a34510c57772de8f8',
    client_secret: '69b8be94d1b53df548e46b9be32356b79e974d3c',
  },
})
gitment.render('container')
</script><div data-thread-key="LeetCode/index.html" data-title="" data-url="http://marcovaldong.github.io/LeetCode/index.html" data-author-key="1" class="ds-thread"></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://marcovaldong.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Deep-Learning/">Deep Learning</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Deep-Learning/信息隐藏/">信息隐藏</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/">Machine Learning</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/Neural-Network/">Neural Network</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/爬虫/">爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书/">读书</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Deep-Learning/" style="font-size: 15px;">Deep Learning</a> <a href="/tags/Machine-Learning/" style="font-size: 15px;">Machine Learning</a> <a href="/tags/读书/" style="font-size: 15px;">读书</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Theano/" style="font-size: 15px;">Theano</a> <a href="/tags/Tensorflow/" style="font-size: 15px;">Tensorflow</a> <a href="/tags/Kaggle/" style="font-size: 15px;">Kaggle</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/信息隐藏/" style="font-size: 15px;">信息隐藏</a> <a href="/tags/Steganography/" style="font-size: 15px;">Steganography</a> <a href="/tags/语义分割/" style="font-size: 15px;">语义分割</a> <a href="/tags/面经/" style="font-size: 15px;">面经</a> <a href="/tags/Neural-Network/" style="font-size: 15px;">Neural Network</a> <a href="/tags/机器学习基石/" style="font-size: 15px;">机器学习基石</a> <a href="/tags/steganalysis/" style="font-size: 15px;">steganalysis</a> <a href="/tags/Pose-Estimation/" style="font-size: 15px;">Pose Estimation</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/04/01/My-reading-list2/">My reading list</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/27/小米面经/">小米面经</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/10/关于sematic-segmentation的几篇论文（二）/">关于sematic segmentation的几篇论文（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/31/论文阅读：RealTime-Multi-Person-2D-Pose-Estimation-using-Part-Affinity-Fields/">论文阅读：RealTime Multi-Person 2D Pose Estimation using Part Affinity Fields</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/31/关于semantic-segmentation的几篇论文/">关于semantic segmentation的几篇论文</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/06/于众目睽睽之下隐藏图像：深度隐写术/">于众目睽睽之下隐藏图像：深度隐写术</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/08/深度学习在信息隐藏中的应用（下）/">深度学习在信息隐藏中的应用（下）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/06/深度学习在信息隐藏中的应用（上）/">深度学习在信息隐藏中的应用（上）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/14/使用Tensorflow实现Titanic比赛/">使用Tensorflow实现Titanic比赛</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/19/Python爬虫小结之Selenium/">Python爬虫小结之Selenium</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://killersdeath.github.io" title="抄作业的小东" target="_blank">抄作业的小东</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Marcovaldo.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'marcovaldo'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2be92f134440f46356c71aa55035a144";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>